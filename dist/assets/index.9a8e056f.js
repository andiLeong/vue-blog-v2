var z=Object.defineProperty;var M=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var P=(e,t,s)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,D=(e,t)=>{for(var s in t||(t={}))F.call(t,s)&&P(e,s,t[s]);if(M)for(var s of M(t))J.call(t,s)&&P(e,s,t[s]);return e};import{u as E,r as d,a as w,o as l,c as g,w as u,b as a,d as m,e as A,f as L,t as x,F as T,g as p,D as O,h as _,i as $,j as W,k as V,M as K,l as Q,m as X,n as N,p as C,T as Y,q as ee,s as te,v as se,x as b,y as ae,z as oe,A as re,N as j,R as ne,B as q,C as ie,E as le,G as ce,O as R}from"./vendor.47665e28.js";const ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};ue();const de={class:"pt-2 pb-3 space-y-1"},me={key:0,class:"pt-4 pb-3 border-t border-gray-200"},pe={class:"flex items-center px-4"},he=a("div",{class:"flex-shrink-0"},[a("img",{class:"h-10 w-10 rounded-full",src:"https://avatars.githubusercontent.com/u/68339288?s=48&v=4",alt:""})],-1),ge={class:"ml-3"},_e={class:"text-base font-medium text-gray-800 dark:text-white"},fe={class:"text-sm font-medium text-gray-500 dark:text-gray-50"},ve={class:"mt-3 space-y-1"},ye=L("Sign out"),xe={setup(e){const t=E(),s=d(t.state.loggedIn),r=d(t.state.user);function o(f){return f.toLowerCase().replace(/\b[a-z]/g,function(v){return v.toUpperCase()})}const n=d([{name:"home"},{name:"posts"},{name:"gallery"},{name:"login"}]),i=d([{path:"/uploader",name:"Upload Gallery"},{path:"/posts/create",name:"Create Post"}]);return(f,v)=>{const S=w("AppLink");return l(),g(p(W),{class:"sm:hidden"},{default:u(()=>[a("div",de,[(l(!0),m(T,null,A(n.value,(c,k)=>(l(),g(S,{key:k,to:c,class:"dark:hover:text-gray-700 dark:text-gray-100 border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 text-base font-medium"},{default:u(()=>[L(x(o(c.name)),1)]),_:2},1032,["to"]))),128))]),s.value?(l(),m("div",me,[a("div",pe,[he,a("div",ge,[a("div",_e,x(r.value.name),1),a("div",fe,x(r.value.email),1)])]),a("div",ve,[(l(!0),m(T,null,A(i.value,(c,k)=>(l(),g(p(O),{key:k,as:"a",href:c.path,class:"dark:hover:text-gray-700 dark:text-gray-100 block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100"},{default:u(()=>[L(x(c.name),1)]),_:2},1032,["href"]))),128)),_(p(O),{as:"a",href:"#",class:"dark:hover:text-gray-700 dark:text-gray-100 block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100"},{default:u(()=>[ye]),_:1})])])):$("",!0)]),_:1})}}},ke={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},be={class:"flex justify-between h-16"},Ee={class:"flex"},we={class:"hidden sm:ml-6 sm:flex sm:space-x-8"},Ae=["onClick"],Le={key:0,class:"dark:inline"},Te=a("svg",{viewBox:"0 0 24 24",fill:"none",class:"w-6 h-6"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.715 15.15A6.5 6.5 0 0 1 9 6.035C6.106 6.922 4 9.645 4 12.867c0 3.94 3.153 7.136 7.042 7.136 3.101 0 5.734-2.032 6.673-4.853Z",class:"fill-sky-400/20"}),a("path",{d:"m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z",class:"fill-sky-500"}),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z",class:"fill-sky-500"})],-1),$e=[Te],Ie={key:1,class:""},Se=a("svg",{viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-6 h-6"},[a("path",{d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",class:"fill-sky-400/20 stroke-sky-500"}),a("path",{d:"M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836",class:"stroke-sky-500"})],-1),Oe=[Se],Ce={class:"hidden sm:ml-6 sm:flex sm:items-center"},Re={class:""},Me=a("span",{class:"sr-only"},"Open user menu",-1),Pe=a("img",{class:"h-8 w-8 rounded-full",src:"https://avatars.githubusercontent.com/u/68339288?s=48&v=4",alt:""},null,-1),De=["href"],Ve=["onClick"],Ne={class:"-mr-2 flex items-center sm:hidden"},je=a("span",{class:"sr-only"},"Open main menu",-1),qe={emits:["change"],setup(e,{emit:t}){const s=E(),r=d([{name:"home"},{name:"login"},{name:"posts"},{name:"gallery"}]),o=d([{path:"/uploader",name:"Upload Gallery"},{path:"/posts/create",name:"Create Post"}]),n=d(s.state.theme);function i(c){return c.toLowerCase().replace(/\b[a-z]/g,function(k){return k.toUpperCase()})}const f=d(s.state.loggedIn);console.log(f.value);function v(){b.post("/logout").then(c=>{console.log(c),s.dispatch("logout")}).catch(c=>{console.log(c)})}function S(){s.dispatch("changeTheme");let c=s.state.theme;n.value=c,t("change",c)}return(c,k)=>{const Z=w("AppLink");return l(),g(p(se),{as:"nav",class:"bg-white shadow dark:bg-gray-700"},{default:u(({open:B})=>[a("div",ke,[a("div",be,[a("div",Ee,[a("div",we,[(l(!0),m(T,null,A(r.value,y=>(l(),g(Z,{to:y,key:y.name,class:"dark:text-white text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 text-sm font-medium"},{default:u(()=>[L(x(i(y.name)),1)]),_:2},1032,["to"]))),128)),a("a",{onClick:V(S,["prevent"]),class:"cursor-pointer dark:text-white text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 text-sm font-medium"},[n.value==="dark"?(l(),m("span",Le,$e)):(l(),m("span",Ie,Oe))],8,Ae)])]),a("div",Ce,[f.value?(l(),g(p(K),{key:0,as:"div",class:"ml-3 relative z-10"},{default:u(()=>[a("div",Re,[_(p(Q),{class:"bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500"},{default:u(()=>[Me,Pe]),_:1})]),_(Y,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[_(p(X),{class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:u(()=>[(l(!0),m(T,null,A(o.value,(y,G)=>(l(),g(p(N),{key:G},{default:u(({active:H})=>[a("a",{href:y.path,class:C([H?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},x(y.name),11,De)]),_:2},1024))),128)),_(p(N),null,{default:u(({active:y})=>[a("a",{onClick:V(v,["prevent"]),href:"#",class:C([y?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",10,Ve)]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),a("div",Ne,[_(p(O),{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-sky-500"},{default:u(()=>[je,B?(l(),g(p(te),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(l(),g(p(ee),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),_(xe)]),_:1})}}},Ue={class:"flex-1 dark:bg-gray-800"},Ze={setup(e){const t=E(),s=d(),r=localStorage.getItem("user");if(r){const i=JSON.parse(r);t.commit("SET_USER_DATA",i)}function o(i){s.value=i}const n=localStorage.getItem("theme");return n&&(s.value=n,t.commit("SET_THEME",n)),(i,f)=>{const v=w("router-view");return l(),m("div",{class:C([s.value,"flex flex-col items-stretch min-h-screen"])},[_(qe,{onChange:o}),a("div",Ue,[_(v,{key:i.$route.path})])],2)}}},Be="modulepreload",U={},Ge="/",h=function(t,s){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=`${Ge}${r}`,r in U)return;U[r]=!0;const o=r.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":Be,o||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),o)return new Promise((f,v)=>{i.addEventListener("load",f),i.addEventListener("error",v)})})).then(()=>t())},He={class:"pt-4"},ze={class:"py-4 xl:py-10 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-800 overflow-hidden"},Fe={class:"max-w-max lg:max-w-7xl mx-auto"},Je={class:"relative z-10 mb-8 md:mb-2 md:px-6"},We={class:"text-base max-w-prose lg:max-w-none"},Ke={key:0,class:"dark:text-white"},Qe={key:1,class:"dark:text-white"},Xe=a("p",{class:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl dark:text-white"}," Hi, I am andi liang, ",-1),Ye=ae('<div class="relative"><div class="px-4 py-2 relative dark:bg-gray-600 rounded bg-zinc-100 md:p-6"><div class="lg:grid lg:grid-cols-2 lg:gap-6"><div class="prose prose-indigo prose-lg text-gray-500 dark:text-white lg:max-w-none"><p> Ultrices ultricies a in odio consequat egestas rutrum. Ut vitae aliquam in ipsum. Duis nullam placerat cursus risus ultrices nisi, vitae tellus in. Qui non fugiat aut minus aut rerum. Perspiciatis iusto mollitia iste minima soluta id. </p><p> Amet, eu nulla id molestie quis tortor. Auctor erat justo, sed pellentesque scelerisque interdum blandit lectus. Nec viverra amet ac facilisis vestibulum. Vestibulum purus nibh ac ultricies congue. </p></div><div class="mt-6 prose prose-indigo prose-lg text-gray-500 dark:text-white lg:mt-0"><p> Erat pellentesque dictumst ligula porttitor risus eget et eget. Ultricies tellus felis id dignissim eget. Est augue maecenas risus nulla ultrices congue nunc tortor. </p><p> Eu leo risus porta integer suspendisse sed sit ligula elit. Elit egestas lacinia sagittis pellentesque neque dignissim vulputate sodales. Diam sed mauris felis risus, ultricies mauris netus tincidunt. Mauris sit eu ac tellus nibh non eget sed accumsan. Viverra ac sed venenatis pulvinar elit. Cras diam quis tincidunt lectus. Non mi vitae, scelerisque felis nisi, netus amet nisl. </p><p> Eu eu mauris bibendum scelerisque adipiscing et. Justo, elementum consectetur morbi eros, posuere ipsum tortor. Eget cursus massa sed velit feugiat sed ut. Faucibus eros mauris morbi aliquam nullam. Scelerisque elementum sit magna ullamcorper dignissim pretium. </p></div></div></div></div>',1),et={setup(e){const t=E(),s=d(t.state.loggedIn),r=d(t.state.user),o=d(t.state.isAdmin);return(n,i)=>(l(),m("div",He,[a("div",ze,[a("div",Fe,[a("div",Je,[a("div",We,[s.value?(l(),m("p",Ke,"welcome "+x(r.value.name),1)):$("",!0),o.value?(l(),m("p",Qe,"welcome admin")):$("",!0),Xe])]),Ye])])]))}};const tt=[{path:"/",name:"home",component:et},{path:"/about",name:"about",component:()=>h(()=>import("./About.a8517b70.js"),["assets/About.a8517b70.js","assets/vendor.47665e28.js"])},{path:"/login",name:"login",component:()=>h(()=>import("./Login.243c0cc0.js"),["assets/Login.243c0cc0.js","assets/vendor.47665e28.js","assets/BaseInput.19919536.js","assets/LoadingIndicator.1da7eff5.js"]),meta:{redirectIfLogged:!0}},{path:"/logout",name:"logout",component:()=>h(()=>import("./Logout.075f3b71.js"),["assets/Logout.075f3b71.js","assets/vendor.47665e28.js"])},{path:"/posts",name:"posts",component:()=>h(()=>import("./Posts.c832397b.js"),["assets/Posts.c832397b.js","assets/vendor.47665e28.js","assets/Spinner.adb60a33.js"])},{path:"/posts/:slug",name:"posts.show",component:()=>h(()=>import("./Post.c73f224e.js"),["assets/Post.c73f224e.js","assets/Post.5397b26d.css","assets/vendor.47665e28.js"]),props:!0},{path:"/posts/edit/:slug",name:"posts.edit",component:()=>h(()=>import("./Edit.91f221b9.js"),["assets/Edit.91f221b9.js","assets/BaseInput.19919536.js","assets/vendor.47665e28.js","assets/Tiptap.62588f16.js","assets/Tiptap.36b3fa67.css"]),props:!0,meta:{adminOnly:!0}},{path:"/posts/create",name:"post.create",component:()=>h(()=>import("./Create.5893162e.js"),["assets/Create.5893162e.js","assets/BaseInput.19919536.js","assets/vendor.47665e28.js","assets/Tiptap.62588f16.js","assets/Tiptap.36b3fa67.css","assets/LoadingIndicator.1da7eff5.js"]),meta:{adminOnly:!0}},{path:"/form",name:"form",component:()=>h(()=>import("./SimpleForm.626f5d73.js"),["assets/SimpleForm.626f5d73.js","assets/SimpleForm.dd17131b.css","assets/vendor.47665e28.js","assets/BaseInput.19919536.js"])},{path:"/tabs",name:"tabs",component:()=>h(()=>import("./Tabs.4f000098.js"),["assets/Tabs.4f000098.js","assets/vendor.47665e28.js"])},{path:"/uploader",name:"uploader",component:()=>h(()=>import("./Uploader.cf5cf771.js"),["assets/Uploader.cf5cf771.js","assets/vendor.47665e28.js"])},{path:"/gallery",name:"gallery",component:()=>h(()=>import("./Gallery.f154ca80.js"),["assets/Gallery.f154ca80.js","assets/vendor.47665e28.js","assets/Spinner.adb60a33.js"])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>h(()=>import("./NotFound.a2943e14.js"),["assets/NotFound.a2943e14.js","assets/vendor.47665e28.js"])}],I=oe({history:re(),routes:tt,linkActiveClass:"border-b-sky-500 text-gray-900 border-b-2",scrollBehavior(e,t,s){return s||new Promise(r=>{setTimeout(()=>r({top:0}),300)})}});I.beforeResolve((e,t,s)=>{e.name&&j.start(),s()});I.afterEach((e,t)=>{j.done()});I.beforeEach((e,t)=>{let s=localStorage.getItem("user"),r=s,o=s!==null&&JSON.parse(s).email==="andiliang9988@gmail.com";if(e.meta.adminOnly&&!r)return{name:"login"};if(e.meta.adminOnly&&!o)return{name:"home"};if(e.meta.auth&&!r)return{name:"login"};if(e.meta.redirectIfLogged&&r)return{name:"home"}});var st=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s};const at={props:D({},ne.props),computed:{isExternal(){return typeof this.to=="string"&&this.to.startsWith("http")}}},ot=["href"];function rt(e,t,s,r,o,n){const i=w("router-link");return n.isExternal?(l(),m("a",{key:0,href:e.to},[q(e.$slots,"default")],8,ot)):(l(),g(i,ie({key:1},e.$props,{class:"internal-link"}),{default:u(()=>[q(e.$slots,"default")]),_:3},16))}var nt=st(at,[["render",rt]]);var it=le({state:{user:null,loggedIn:!1,isAdmin:!1,theme:"light"},mutations:{SET_USER_DATA(e,t){e.user=t,e.loggedIn=!0,localStorage.setItem("user",JSON.stringify(t)),t.email==="andiliang9988@gmail.com"&&(e.isAdmin=!0)},CLEAR_USER_DATA(){localStorage.removeItem("user"),location.reload()},SET_THEME(e,t){e.theme=t},TOGGLE_THEME(e){e.theme==="light"?(e.theme="dark",localStorage.setItem("theme","dark")):(e.theme="light",localStorage.setItem("theme","light"))}},actions:{async login({commit:e},t){return await b.get("/sanctum/csrf-cookie"),await b.post("/login",t).then(({data:s})=>{e("SET_USER_DATA",s)})},logout({commit:e}){e("CLEAR_USER_DATA")},changeTheme({commit:e}){e("TOGGLE_THEME")}},getters:{loggedIn(e){return!!e.user}}});window.axios=b;b.defaults.withCredentials=!0;b.defaults.baseURL="https://api.andiliang.com";ce(Ze).component("AppLink",nt).use(I).use(it).directive("observe-visibility",{beforeMount:(e,t,s)=>{s.context=t.instance,R.bind(e,t,s)},update:R.update,unmounted:R.unbind}).mount("#app");export{nt as A,st as _};
